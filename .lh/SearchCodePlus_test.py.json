{
    "sourceFile": "SearchCodePlus_test.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1713533519586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1713533528990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,45 @@\n+import sqlite3\r\n+import os\r\n+\r\n+# 连接到SQLite数据库\r\n+conn = sqlite3.connect('yy_OrgCodeNote_my_database.db')\r\n+cursor = conn.cursor()\r\n+\r\n+# 遍历数据库中的所有id\r\n+cursor.execute(\"SELECT id, location, find FROM setup_py_table\")  # 请替换your_table_name为你的表名\r\n+rows = cursor.fetchall()\r\n+\r\n+# 用于存储已检查的文件路径\r\n+checked_locations = set()\r\n+# 用于存储文件路径及其内容的映射\r\n+file_contents_map = {}\r\n+\r\n+for row in rows:\r\n+    id, location, find_text = row\r\n+    code_num = None\r\n+\r\n+    # 检查find属性是否为纯数字\r\n+    if find_text.isdigit():\r\n+        code_num = int(find_text)\r\n+    else:\r\n+        # 如果文件路径尚未检查，进行检查\r\n+        if location not in checked_locations:\r\n+            if os.path.exists(location):\r\n+                with open(location, 'r', encoding='utf-8') as file:\r\n+                    file_contents_map[location] = file.readlines()\r\n+            checked_locations.add(location)\r\n+\r\n+        # 检查文件内容中是否包含find属性的文字\r\n+        if location in file_contents_map:\r\n+            for i, line in enumerate(file_contents_map[location], 1):\r\n+                if find_text in line:\r\n+                    code_num = i\r\n+                    break\r\n+\r\n+    # 更新code_num属性\r\n+    if code_num is not None:\r\n+        cursor.execute(\"UPDATE yy_OrgCodeNote_table SET code_num = ? WHERE id = ?\", (code_num, id))\r\n+\r\n+# 提交更改并关闭连接\r\n+conn.commit()\r\n+conn.close()\n\\ No newline at end of file\n"
                },
                {
                    "date": 1713533543184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,45 @@\n+import sqlite3\r\n+import os\r\n+\r\n+# 连接到SQLite数据库\r\n+conn = sqlite3.connect('yy_OrgCodeNote_my_database.db')\r\n+cursor = conn.cursor()\r\n+\r\n+# 遍历数据库中的所有id\r\n+cursor.execute(\"SELECT id, location, find FROM setup_py_table\")  # 请替换your_table_name为你的表名\r\n+rows = cursor.fetchall()\r\n+\r\n+# 用于存储已检查的文件路径\r\n+checked_locations = set()\r\n+# 用于存储文件路径及其内容的映射\r\n+file_contents_map = {}\r\n+\r\n+for row in rows:\r\n+    id, location, find_text = row\r\n+    code_num = None\r\n+\r\n+    # 检查find属性是否为纯数字\r\n+    if find_text.isdigit():\r\n+        code_num = int(find_text)\r\n+    else:\r\n+        # 如果文件路径尚未检查，进行检查\r\n+        if location not in checked_locations:\r\n+            if os.path.exists(location):\r\n+                with open(location, 'r', encoding='utf-8') as file:\r\n+                    file_contents_map[location] = file.readlines()\r\n+            checked_locations.add(location)\r\n+\r\n+        # 检查文件内容中是否包含find属性的文字\r\n+        if location in file_contents_map:\r\n+            for i, line in enumerate(file_contents_map[location], 1):\r\n+                if find_text in line:\r\n+                    code_num = i\r\n+                    break\r\n+\r\n+    # 更新code_num属性\r\n+    if code_num is not None:\r\n+        cursor.execute(\"UPDATE yy_OrgCodeNote_table setup_py_tableSET code_num = ? WHERE id = ?\", (code_num, id))\r\n+\r\n+# 提交更改并关闭连接\r\n+conn.commit()\r\n+conn.close()\n\\ No newline at end of file\n"
                },
                {
                    "date": 1713533549754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,99 +37,9 @@\n                     break\r\n \r\n     # 更新code_num属性\r\n     if code_num is not None:\r\n-        cursor.execute(\"UPDATE yy_OrgCodeNote_table setup_py_tableSET code_num = ? WHERE id = ?\", (code_num, id))\r\n+        cursor.execute(\"UPDATE setup_py_table SET code_num = ? WHERE id = ?\", (code_num, id))\r\n \r\n # 提交更改并关闭连接\r\n conn.commit()\r\n-conn.close()\n-import sqlite3\r\n-import os\r\n-\r\n-# 连接到SQLite数据库\r\n-conn = sqlite3.connect('yy_OrgCodeNote_my_database.db')\r\n-cursor = conn.cursor()\r\n-\r\n-# 遍历数据库中的所有id\r\n-cursor.execute(\"SELECT id, location, find FROM setup_py_table\")  # 请替换your_table_name为你的表名\r\n-rows = cursor.fetchall()\r\n-\r\n-# 用于存储已检查的文件路径\r\n-checked_locations = set()\r\n-# 用于存储文件路径及其内容的映射\r\n-file_contents_map = {}\r\n-\r\n-for row in rows:\r\n-    id, location, find_text = row\r\n-    code_num = None\r\n-\r\n-    # 检查find属性是否为纯数字\r\n-    if find_text.isdigit():\r\n-        code_num = int(find_text)\r\n-    else:\r\n-        # 如果文件路径尚未检查，进行检查\r\n-        if location not in checked_locations:\r\n-            if os.path.exists(location):\r\n-                with open(location, 'r', encoding='utf-8') as file:\r\n-                    file_contents_map[location] = file.readlines()\r\n-            checked_locations.add(location)\r\n-\r\n-        # 检查文件内容中是否包含find属性的文字\r\n-        if location in file_contents_map:\r\n-            for i, line in enumerate(file_contents_map[location], 1):\r\n-                if find_text in line:\r\n-                    code_num = i\r\n-                    break\r\n-\r\n-    # 更新code_num属性\r\n-    if code_num is not None:\r\n-        cursor.execute(\"UPDATE yy_OrgCodeNote_table SET code_num = ? WHERE id = ?\", (code_num, id))\r\n-\r\n-# 提交更改并关闭连接\r\n-conn.commit()\r\n-conn.close()\n-import sqlite3\r\n-import os\r\n-\r\n-# 连接到SQLite数据库\r\n-conn = sqlite3.connect('yy_OrgCodeNote_my_database.db')\r\n-cursor = conn.cursor()\r\n-\r\n-# 遍历数据库中的所有id\r\n-cursor.execute(\"SELECT id, location, find FROM \")  # 请替换your_table_name为你的表名\r\n-rows = cursor.fetchall()\r\n-\r\n-# 用于存储已检查的文件路径\r\n-checked_locations = set()\r\n-# 用于存储文件路径及其内容的映射\r\n-file_contents_map = {}\r\n-\r\n-for row in rows:\r\n-    id, location, find_text = row\r\n-    code_num = None\r\n-\r\n-    # 检查find属性是否为纯数字\r\n-    if find_text.isdigit():\r\n-        code_num = int(find_text)\r\n-    else:\r\n-        # 如果文件路径尚未检查，进行检查\r\n-        if location not in checked_locations:\r\n-            if os.path.exists(location):\r\n-                with open(location, 'r', encoding='utf-8') as file:\r\n-                    file_contents_map[location] = file.readlines()\r\n-            checked_locations.add(location)\r\n-\r\n-        # 检查文件内容中是否包含find属性的文字\r\n-        if location in file_contents_map:\r\n-            for i, line in enumerate(file_contents_map[location], 1):\r\n-                if find_text in line:\r\n-                    code_num = i\r\n-                    break\r\n-\r\n-    # 更新code_num属性\r\n-    if code_num is not None:\r\n-        cursor.execute(\"UPDATE yy_OrgCodeNote_table SET code_num = ? WHERE id = ?\", (code_num, id))\r\n-\r\n-# 提交更改并关闭连接\r\n-conn.commit()\r\n conn.close()\n\\ No newline at end of file\n"
                }
            ],
            "date": 1713533519586,
            "name": "Commit-0",
            "content": "import sqlite3\r\nimport os\r\n\r\n# 连接到SQLite数据库\r\nconn = sqlite3.connect('yy_OrgCodeNote_my_database.db')\r\ncursor = conn.cursor()\r\n\r\n# 遍历数据库中的所有id\r\ncursor.execute(\"SELECT id, location, find FROM \")  # 请替换your_table_name为你的表名\r\nrows = cursor.fetchall()\r\n\r\n# 用于存储已检查的文件路径\r\nchecked_locations = set()\r\n# 用于存储文件路径及其内容的映射\r\nfile_contents_map = {}\r\n\r\nfor row in rows:\r\n    id, location, find_text = row\r\n    code_num = None\r\n\r\n    # 检查find属性是否为纯数字\r\n    if find_text.isdigit():\r\n        code_num = int(find_text)\r\n    else:\r\n        # 如果文件路径尚未检查，进行检查\r\n        if location not in checked_locations:\r\n            if os.path.exists(location):\r\n                with open(location, 'r', encoding='utf-8') as file:\r\n                    file_contents_map[location] = file.readlines()\r\n            checked_locations.add(location)\r\n\r\n        # 检查文件内容中是否包含find属性的文字\r\n        if location in file_contents_map:\r\n            for i, line in enumerate(file_contents_map[location], 1):\r\n                if find_text in line:\r\n                    code_num = i\r\n                    break\r\n\r\n    # 更新code_num属性\r\n    if code_num is not None:\r\n        cursor.execute(\"UPDATE yy_OrgCodeNote_table SET code_num = ? WHERE id = ?\", (code_num, id))\r\n\r\n# 提交更改并关闭连接\r\nconn.commit()\r\nconn.close()"
        }
    ]
}